unit UFrmLogin;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, BusinessSkinForm, StdCtrls, bsSkinCtrls, Mask, bsSkinBoxCtrls,
  bsPngImageList;

type
  TFrmLogin = class(TForm)
    bsBusinessSkinForm1: TbsBusinessSkinForm;
    bsSkinButton1: TbsSkinButton;
    EUsuario: TbsSkinEdit;
    bsSkinStdLabel1: TbsSkinStdLabel;
    ESenha: TbsSkinEdit;
    bsPngImageStorage1: TbsPngImageStorage;
    bsPngImageView1: TbsPngImageView;
    bsPngImageView2: TbsPngImageView;
    procedure bsSkinButton1Click(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  FrmLogin: TFrmLogin;

implementation

uses UFrmPrincipal, UDm;

{$R *.dfm}

procedure TFrmLogin.bsSkinButton1Click(Sender: TObject);
begin
    try
      Dm.SQLConnection1.Connected := false;
      Dm.SQLConnection1.Params.Values['DSAuthenticationPassword'] := ESenha.Text;
      Dm.SQLConnection1.Params.Values['DSAuthenticationUser'] := EUsuario.Text;
      Dm.SQLConnection1.Connected := true;
    except
      ShowMessage('Usuário ou senha inválidos');
    end;
end;

end.
